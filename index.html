<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon: La Sierpe de La Costera</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <div class="contenedor">
            <h2 class="logotipo" onclick="location.href='index.html'">Pokémon RPG</h2>
            <nav>
                <a href="doc.html">Documentacion</a>
                <a href="form.html">Formulario de Opinión</a>
                <a href="signin.html">Registrarse</a>
                <a href="login.html">Iniciar Sesión</a>
                <div class="group">
                    <input type="text" id="searchInput" class="input" placeholder="Buscar..." onkeyup="searchContent()">
                    <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M10 2a8 8 0 105.293 14.707l5.387 5.387a1 1 0 001.414-1.414l-5.387-5.387A8 8 0 0010 2zm0 2a6 6 0 110 12 6 6 0 010-12z"/>
                    </svg>
                </div>
                <a href="user.html" class="user-button">
                    <img id="userProfileImage" src="img/user_default.png" alt="User Profile" class="user-icon">
                </a>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero">
            <h1>¡Una nueva región, una antigua amenaza y articulos veraniegos muy caros!</h1>
            <p>Explora La Costera y enfréntate al despertar de Sierpentez.</p>
            <button class="download-button" onclick="location.href='descargas.html'">Ver Tráiler / Jugar Demo</button>
        </section>

        <!-- Galería de Mapas -->
        <section class="galeria">
            <p>Explora La Costera</p>
            <div class="gallery grid">
                <div class="gallery-item" onclick="showModal('Bahía de Marezuela', 'Ciudad portuaria con gimnasio Agua y pescados frescos.', 'img/mapa_bahia.jpg')">
                    <img src="img/mapa_bahia.jpg" alt="Bahía de Marezuela">
                    <h2>Bahía de Marezuela</h2>
                </div>
                <div class="gallery-item" onclick="showModal('Islas del Fuego', 'Archipiélago volcánico con Pokémon únicos de Fuego.', 'img/mapa_islas.jpg')">
                    <img src="img/mapa_islas.jpg" alt="Islas del Fuego">
                    <p>Islas del Fuego</p>
                </div>
                <div class="gallery-item" onclick="showModal('Dunas del Levante', 'Desierto costero con Pokémon tipo Roca y Viento.', 'img/mapa_dunas.jpg')">
                    <img src="img/mapa_dunas.jpg" alt="Dunas del Levante">
                    <p>Dunas del Levante</p>
                </div>
                <div class="gallery-item" onclick="showModal('Cueva del Levante', 'Hogar de Sierpentez y epicentro del caos.', 'img/mapa_cueva.jpg')">
                    <img src="img/mapa_cueva.jpg" alt="Cueva del Levante">
                    <p>Cueva del Levante</p>
                </div>
            </div>
        </section>

        <!-- Galería de Pokémon -->
        <section class="galeria">
            <h2>Pokémon Exclusivos</h2>
            <div class="gallery grid">
                <div class="gallery-item" onclick="showModal('Sierpentez', 'Legendario envuelto en algas (Dragón/Agua).', 'img/sierpentez.jpg')">
                    <img src="img/sierpentez.jpg" alt="Sierpentez">
                    <p>Sierpentez</p>
                </div>
                <div class="gallery-item" onclick="showModal('Navajín', 'Navaja marina con "Oleaje Nocturno" (Acero/Siniestro).', 'img/navajin.jpg')">
                    <img src="img/navajin.jpg" alt="Navajín">
                    <p>Navajín</p>
                </div>
                <div class="gallery-item" onclick="showModal('Gambascal', 'Gamba luchadora con "Marisquito" (Agua/Fuego).', 'img/gambascal.jpg')">
                    <img src="img/gambascal.jpg" alt="Gambascal">
                    <p>Gambascal</p>
                </div>
                <div class="gallery-item" onclick="showModal('Molintón', 'Confunde a los Tauros con molinos (Roca/Viento).', 'img/molinton.jpg')">
                    <img src="img/molinton.jpg" alt="Molintón">
                    <p>Molintón</p>
                </div>
            </div>
        </section>

        <!-- Galería de Personajes -->
        <section class="galeria">
            <h2>Personajes</h2>
            <div class="gallery grid">
                <div class="gallery-item" onclick="showModal('El/La Protagonista', 'Vive con su abuela en un pueblo costero. Su inicial dependerá de tu elección.', 'img/protagonista.png')">
                    <img src="img/protagonista.png" alt="Protagonista">
                    <p>Protagonista</p>
                </div>
                <div class="gallery-item" onclick="showModal('Andrés &quot;El Fisco&quot;', 'Villano con yate y abanicos de oro. Líder del Team Almendrao.', 'img/Andres.png')">
                    <img src="img/Andres.png" alt="Andrés">
                    <p>Andrés Guerra</p>
                </div>
                <div class="gallery-item" onclick="showModal('Profesor Emilio', 'Investigador de Pokémon marinos.', 'img/profesor_emilio.jpg')">
                    <img src="img/profesor_emilio.jpg" alt="Profesor Emilio">
                    <p>Profesor Emilio</p>
                </div>
                
            </div>
            <h2 style="font-size: 20px;">Personajes invitados</h2>
            <div class="gallery grid">
                <div class="gallery-item" onclick="showModal('Antonio Lobato', 'Vive con su abuela en un pueblo costero. Su inicial dependerá de tu elección.', 'img/antoniolobato.jpg')">
                    <img src="img/antoniolobato.jpg" alt="Antonio Lobato">
                    <p>Antonio Lobato</p>
                </div>
                <div class="gallery-item" onclick="showModal('J.Cañas', 'Villano con yate y abanicos de oro. Líder del Team Almendrao.', 'img/JCañas.png')">
                    <img src="img/JCañas.png" alt="J.Cañas">
                    <p> J.Cañas</p>
                </div>
                <div class="gallery-item" onclick="showModal('Torrente', 'Ex-detective que entrena Pokémon tipo Lucha y Normal. Su ataque especial es &quot;Puño Justiciero&quot;.', 'img/torrente.png')">
                    <img src="img/torrente.png" alt="Torrente">
                    <p>Torrente</p>
                </div>
        </section>
    </main>

    <!-- Modal -->
    <div id="modal-overlay" class="modal-overlay" onclick="closeModal()"></div>
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <img id="modal-image" src="" alt="Modal Image" style="max-width: 100%; height: auto; margin-bottom: 10px;">
            <h3 id="modal-title"></h3>
            <p id="modal-description"></p>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Jordi y Claudia. Todos los derechos reservados.</p>
    </footer>

    <script>
        function showModal(title, description, imageUrl) {
            const modal = document.getElementById('modal');
            const overlay = document.getElementById('modal-overlay');

            // Actualiza el contenido del modal
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-description').textContent = description;
            document.getElementById('modal-image').src = imageUrl;

            // Muestra el modal y el fondo oscuro
            modal.classList.add('show');
            overlay.classList.add('show');
            modal.classList.remove('hidden');
            overlay.classList.remove('hidden');
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            const overlay = document.getElementById('modal-overlay');

            // Oculta el modal y el fondo oscuro
            modal.classList.remove('show');
            overlay.classList.remove('show');
            modal.classList.add('hidden');
            overlay.classList.add('hidden');
        }

        document.addEventListener("DOMContentLoaded", function() {
            // Verificar si hay un usuario en localStorage
            const usuarioLocal = localStorage.getItem("usuario");

            if (usuarioLocal) {
                // Ocultar los botones de "Registrarse" y "Iniciar Sesión"
                const signinButton = document.querySelector("a[href='signin.html']");
                const loginButton = document.querySelector("a[href='login.html']");
                if (signinButton) signinButton.style.display = "none";
                if (loginButton) loginButton.style.display = "none";
            }

            // Mostrar la imagen de perfil del usuario
            const savedImage = localStorage.getItem("profileImage");
            const userProfileImage = document.getElementById("userProfileImage");
            if (savedImage && userProfileImage) {
                userProfileImage.src = savedImage;
            } else if (userProfileImage) {
                userProfileImage.src = "img/user_default.png"; // Imagen por defecto
            }
        });
    </script>
</body>
</html>
